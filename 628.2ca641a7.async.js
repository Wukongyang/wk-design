"use strict";(self.webpackChunkwk_design=self.webpackChunkwk_design||[]).push([[628],{2628:function(un,Ze,g){g.r(Ze),g.d(Ze,{Button:function(){return st},DragList:function(){return wt},LineClamp:function(){return Ft},PictureClip:function(){return It},RichText:function(){return Zt}});var i=g(67294),s=g(85893),it=function(){function r(){console.log("test=====Button")}return(0,s.jsx)("div",{onClick:r,children:"\u793A\u4F8B\u7EC4\u4EF6"})},st=it,ut=g(19632),ct=g.n(ut),lt=g(97857),G=g.n(lt),ft=g(5574),S=g.n(ft),dt=g(24887),mt=g(79855),Ce=g(41797),te={listContainer:"R1h0iqCBjtYohQV5jHNM",coverMask:"g5iJw6M87bkS59NxPbjB","list-item":"AxRK5ReHTu4hzahdb4av","list-item-title":"pM1A0uPshrkEu3ZEx0rx","list-item-delete":"OqG3ojCtMYsYOoe7yFYh","list-item-move":"_qiPitm5vp4jxYb9x5xq",header:"xHZPI1Sg4KqIG83g1G1E","header-add":"IX5z583ciSI1uQCzqKHi",svg:"n6DO4ZFwuN0bULj9lxvC","header-close":"R7LP3dSnrjcnxyhoiv_F","drag-item":"NaFWlQqk42hHB_LmRT45"},vt=g(15009),ze=g.n(vt),cn=g(9783),gt=g(99289),ht=g.n(gt),ln=g(52677),ye=Object.prototype.toString;function fn(n){return ye.call(n)==="[object ArrayBuffer]"}function dn(n){return typeof FormData!="undefined"&&n instanceof FormData}function mn(n){return typeof n=="undefined"}function vn(n){return n!==null&&_typeof(n)==="object"}function gn(n){return ye.call(n)==="[object File]"}function hn(n){return ye.call(n)==="[object Blob]"}function pn(n){return we.apply(this,arguments)}function we(){return we=_asyncToGenerator(_regeneratorRuntime().mark(function n(r){var a,o,f,c,h,x,l=arguments;return _regeneratorRuntime().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return a=l.length>1&&l[1]!==void 0?l[1]:{},o=a.onRequest,f=a.onSuccess,c=a.onFinish,h=a.onError,d.prev=2,o&&o(),d.next=6,r();case 6:x=d.sent,f&&f(x),d.next=13;break;case 10:d.prev=10,d.t0=d.catch(2),h&&h(d.t0);case 13:return d.prev=13,c&&c(),d.finish(13);case 16:case"end":return d.stop()}},n,null,[[2,10,13,16]])})),we.apply(this,arguments)}function pt(n){return Object.prototype.toString.call(n).slice(8,-1)}function St(n){var r=pt(n);if(r!=="Object"&&r!=="Array")return n;var a=Array.isArray(n)?_toConsumableArray(n):_objectSpread({},n);for(var o in n){var f=n[o];typeof f=="string"?a[o]=f.trim().replace(/\n\r/g,""):a[o]=St(f)}return a}function Sn(n){if(!n)return"";var r=(Object.keys(n)||[]).filter(function(f){return n[f]!==void 0}).reduce(function(f,c){return _objectSpread(_objectSpread({},f),{},_defineProperty({},c,n[c]))},{}),a="";for(var o in r)a="".concat(a).concat(o,"=").concat(r[o],"&");return a=a.substring(0,a.length-1),a?"?".concat(a):""}var xn=function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.5;return new Promise(function(o){var f=["png","jpeg","webp","jpg"],c=r.name.split("."),h=c[c.length-1];f.includes(h)||o(r);try{var x=new FileReader;x.onload=function(l){var E=l.target.result,d=new Image;d.onload=_asyncToGenerator(_regeneratorRuntime().mark(function A(){var M,I,B,R,N,m;return _regeneratorRuntime().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:for(M=document.createElement("canvas"),M.width=d.width,M.height=d.height,M.getContext("2d").drawImage(d,0,0,d.width,d.height),I=M.toDataURL("image/webp",a),B=atob(I.split(",")[1]),R=B.length,N=new Uint8Array(R);R--;)N[R]=B.charCodeAt(R);m=new File([N],r.name,{type:r.type}),o(m);case 11:case"end":return D.stop()}},A)})),d.src=E},x.readAsDataURL(r)}catch(l){o(r)}})};function xt(n,r){var a=n;for(var o in r)Reflect.has(r,o)&&(a[o]=r[o]);return a}var _;(function(n){n[n.down=1]="down",n[n.up=-1]="up"})(_||(_={}));var Oe=function(r){var a=r.children;return(0,i.useLayoutEffect)(function(){var o=Array.from(document.querySelectorAll("div[data-drag-warper]")),f=Math.max.apply(Math,o.map(function(c){return c.clientHeight}));o.forEach(function(c){c.style.setProperty("--drag-offest-height","".concat(f,"px"))})},[]),(0,s.jsx)("div",{"data-drag-warper":!0,className:te["drag-item"],children:a})},Ct=function(r){var a=r.children,o=r.listDataChange,f=(0,i.useState)(!1),c=S()(f,2),h=c[0],x=c[1],l=(0,i.useState)(-1),E=S()(l,2),d=E[0],A=E[1],M=(0,i.useState)(-1),I=S()(M,2),B=I[0],R=I[1],N=(0,i.useState)(0),m=S()(N,2),Z=m[0],D=m[1],z=(0,i.useState)(0),p=S()(z,2),Be=p[0],ne=p[1],le=(0,i.useState)(0),fe=S()(le,2),O=fe[0],Y=fe[1],U=(0,i.useRef)(null),Me=(0,i.useState)([]),ae=S()(Me,2),F=ae[0],V=ae[1],Re=(0,i.useState)(!1),re=S()(Re,2),K=re[0],oe=re[1],de=(0,i.useMemo)(function(){return i.Children.map(a,function(b){return i.isValidElement(b)?b.type!==Oe?(console.error("The children of `DragList` must be `DragList.Item` components."),null):i.cloneElement(b,G()({},b.props)):null})},[a]);(0,i.useEffect)(function(){var b,C=(U==null||(b=U.current)===null||b===void 0?void 0:b.clientHeight)||0,w=F.length;C>0&&Y((C-10*(w-1))/w)},[F]),(0,i.useEffect)(function(){V(de)},[de]);var me=function(C,w){F.length!==1&&(x(!0),A(w),D(C.pageY),R(w))},X=function(){F.length!==1&&(B!==d&&o({originIndex:B,targetIndex:d,type:"move"}),x(!1),A(-1),R(-1),D(0))},q=function(C,w){var P=ct()(F),Q=P.splice(C,1)[0];P.splice(C+w,0,Q),V(P)},Te=function(C){if(F.length!==1){var w=C.pageY-Z,P=d;w>O&&P<F.length-1?(w-=O,q(P,_.down),A(P+_.down),D(Z+O)):w<-O&&P>0&&(w+=O,q(P,_.up),A(P+_.up),D(Z-O)),ne(w)}},ve=function(C){return C===d?{transform:"translate(10px, ".concat(Be,"px)"),color:"#40a9ff",opacity:.8}:{}},W=function(C){o({originIndex:C,type:"delete"})},Le=function(){return(0,s.jsx)(s.Fragment,{children:F.map(function(C,w){return(0,s.jsxs)("div",{draggable:F.length>1,onDragStart:function(Q){return me(Q,w)},style:ve(w),className:te["list-item"],children:[(0,s.jsx)(Ce.Z,{placement:"top",title:"\u79FB\u52A8",children:(0,s.jsx)(dt.Z,{})}),C,(0,s.jsx)(Ce.Z,{placement:"top",title:"\u5220\u9664",children:(0,s.jsx)(mt.Z,{className:te["list-item-delete"],onClick:function(Q){Q.stopPropagation(),W(w)}})})]},w)})})},Ee=function(){return h?(0,s.jsx)("div",{className:te.coverMask,onMouseUp:X,onMouseMove:Te}):(0,s.jsx)(s.Fragment,{})};return(0,s.jsxs)("div",{ref:U,className:te.listContainer,children:[(0,s.jsx)(Le,{}),(0,s.jsx)(Ee,{})]})},yt=xt(Ct,{Item:Oe}),wt=yt,jt=function(r){var a=r.children,o=r.line,f=o===void 0?2:o,c=r.width,h=r.tooltip,x=h===void 0?!1:h,l=r.tooltipProps,E=(0,i.useRef)(),d=(0,i.useState)(a),A=S()(d,2),M=A[0],I=A[1],B=(0,i.useState)({placement:"top",title:a}),R=S()(B,2),N=R[0],m=R[1];return(0,i.useLayoutEffect)(function(){var Z=parseInt(window.getComputedStyle(E.current).fontSize,10),D=c||parseInt(window.getComputedStyle(E.current).width,10),z=Math.floor(f*D/Z);z<a.length&&(a="".concat(a.slice(0,z-2),"...")),I(a)},[a]),(0,i.useEffect)(function(){l&&m(G()(G()({},N),l))},[l]),(0,s.jsx)("div",{style:{width:"".concat(c,"px")},ref:E,children:x?(0,s.jsx)(Ce.Z,G()(G()({},N),{},{children:M})):(0,s.jsxs)(s.Fragment,{children:[" ",M]})})},Dt=jt,Ft=Dt,bt=g(96671),Bt=g(12585),Mt=g(25349),je=g(26713),De=g(5403),Ue=g(66838),Fe=g(34749);function Cn(n){var r=useRef(!1),a=useState(n),o=_slicedToArray(a,2),f=o[0],c=o[1],h=useCallback(function(x){r.current||c(x)},[]);return useEffect(function(){return r.current=!1,function(){r.current=!0}},[]),[f,h]}var yn=null;function wn(n){var r=useSafeState(n),a=_slicedToArray(r,2),o=a[0],f=a[1],c=useCallback(function(){return f(!0)},[]),h=useCallback(function(){return f(!1)},[]);return[o,c,h]}var jn=null;function Rt(n){var r=(0,i.useRef)(n);r.current=(0,i.useMemo)(function(){return n},[n]);var a=(0,i.useRef)();return a.current||(a.current=function(){for(var o=arguments.length,f=new Array(o),c=0;c<o;c++)f[c]=arguments[c];return r.current.apply(this,f)}),a.current}var Tt=Rt;function Lt(n,r){var a=(0,i.useRef)({fn:n,timer:null}),o=a.current;return(0,i.useEffect)(function(){o.fn=n},[n]),Tt(function(){for(var f=arguments.length,c=new Array(f),h=0;h<f;h++)c[h]=arguments[h];o.timer&&clearTimeout(o.timer),o.timer=setTimeout(function(){var x;(x=o.fn).call.apply(x,[null].concat(c))},r)})}var Xe=Lt;function Dn(n,r){var a=useRef({fn:n,timer:null}),o=a.current;return useEffect(function(){o.fn=n},[n]),useMemoizedFn(function(){if(!o.timer){var c;o.timer=setTimeout(function(){delete o.timer},r);for(var h=arguments.length,x=new Array(h),l=0;l<h;l++)x[l]=arguments[l];(c=o.fn).call.apply(c,[this].concat(x))}})}var Fn=null,k;(function(n){n[n.manual=1]="manual",n[n.custom=2]="custom"})(k||(k={}));var ee;(function(n){n.manual="manual",n.fixed="fixed",n.custom="custom"})(ee||(ee={}));var se=!1,be=!1,L={left:0,top:0},We=1e3,$e=800,Et=function(r){var a=r.resource,o=r.onClip,f=r.imgType,c=f===void 0?"image/png":f,h=r.encoderOptions,x=h===void 0?.92:h,l=r.defaultClipBox,E=r.clipMethod,d=E===void 0?"manual":E,A=r.imgName,M=r.open,I=M===void 0?!1:M,B=r.onClose,R=(0,i.useState)(0),N=S()(R,2),m=N[0],Z=N[1],D=(0,i.useState)(0),z=S()(D,2),p=z[0],Be=z[1],ne=(0,i.useRef)(),le=(0,i.useRef)(),fe=(0,i.useState)(0),O=S()(fe,2),Y=O[0],U=O[1],Me=(0,i.useState)(0),ae=S()(Me,2),F=ae[0],V=ae[1],Re=(0,i.useState)(0),re=S()(Re,2),K=re[0],oe=re[1],de=(0,i.useState)(0),me=S()(de,2),X=me[0],q=me[1],Te=(0,i.useState)(0),ve=S()(Te,2),W=ve[0],Le=ve[1],Ee=(0,i.useState)(0),b=S()(Ee,2),C=b[0],w=b[1],P=(0,i.useState)(1),Q=S()(P,2),$=Q[0],zt=Q[1],Ot=(0,i.useState)(1),Ge=S()(Ot,2),ie=Ge[0],Ut=Ge[1],Xt=(0,i.useState)(),ke=S()(Xt,2),Ke=ke[0],Qe=ke[1],Wt=(0,i.useState)(),Je=S()(Wt,2),Ve=Je[0],qe=Je[1],$t=(0,i.useState)(I),_e=S()($t,2),Gt=_e[0],Ae=_e[1],kt=(0,i.useState)(),et=S()(kt,2),Ie=et[0],Pe=et[1],tt=Xe(function(e){if(e){for(var t=e.offsetTop,u=e.offsetLeft,v=e.offsetParent;v;)t+=v.offsetTop,u+=v.offsetLeft,v=v.offsetParent;return L.left=u,L.top=t,{top:t,left:u}}},500);(0,i.useEffect)(function(){window.addEventListener("resize",function(){tt(ne.current)})},[]),(0,i.useEffect)(function(){Ae(I),I&&(a instanceof File?rt(a,function(e){Ne(e),Pe(e)}):typeof a=="string"&&(a.startsWith("http")?tn(a,function(e){Ne(e),Pe(e)}):a.startsWith("data:")&&(Ne(a),Pe(a))))},[I,a]),(0,i.useEffect)(function(){se||He()},[Y,F,K,X]),(0,i.useLayoutEffect)(function(){},[Ie]),(0,i.useEffect)(function(){if(d===ee.fixed&&(!l||!(l!=null&&l.width)||!(l!=null&&l.height)))throw new Error("\u88C1\u526A\u65B9\u5F0F\u4E3A\u56FA\u5B9A\u5C3A\u5BF8\u65F6\uFF0C\u9700\u4F20\u5165\u9ED8\u8BA4\u7684\u88C1\u526A\u6846\u5927\u5C0F")},[d]);function Ne(e){var t=new Image;t.src=e,t.onload=function(){var u=t.width,v=t.height,y=Math.min(We/u,$e/v);zt(y),Z(v*y),Be(u*y),setTimeout(function(){tt(ne.current)}),Kt(u*y,v*y,y),console.log("\u539F\u59CB\u56FE\u7247\u5BBD\u5EA6\uFF1A".concat(u," px")),console.log("\u539F\u59CB\u56FE\u7247\u9AD8\u5EA6\uFF1A".concat(v," px")),console.log("\u5F53\u524D\u6BD4\u4F8B\u5C3A",y)}}function Kt(e,t,u){if(l&&l!==null&&l!==void 0&&l.width&&l!==null&&l!==void 0&&l.height){var v=((l==null?void 0:l.width)||0)*u,y=((l==null?void 0:l.height)||0)*u;v>=e&&(v=e),y>=t&&(y=t),U(0),V(0),oe(e-v),q(t-y),He(e,t,0,e-v,t-y,0,u)}else U(0),V(0),oe(0),q(0),He(e,t,0,0,0,0,u)}function He(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Y,v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:K,y=arguments.length>4&&arguments[4]!==void 0?arguments[4]:X,T=arguments.length>5&&arguments[5]!==void 0?arguments[5]:F,j=arguments.length>6&&arguments[6]!==void 0?arguments[6]:$,H=t-y-u,xe=e-v-T;Le(Math.round(xe/j)),w(Math.round(H/j))}function Qt(e){e.stopPropagation(),se=!0;var t=m-X-Y,u=p-K-F;document.onmousemove=function(v){var y=v.clientX-e.clientX,T=v.clientY-e.clientY,j=Y+T,H=F+y;j>=m-t?j=m-t:j<=0&&(j=0),H>=p-u?H=p-u:H<=0&&(H=0);var xe=m-t-j,ot=p-H-u;se&&(pe(xe,j),he(ot,H),ge(j,xe),Se(H,ot)),v.preventDefault()},document.onmouseup=function(){se=!1}}function J(e,t){e.stopPropagation(),!(ie===k.custom||d===ee.fixed)&&(be=!0,be&&(document.onmousemove=function(u){Jt(u.clientX,u.clientY,t)},document.onmouseup=function(){document.onmousemove=function(){},be=!1}))}function Jt(e,t,u){switch(u){case"topleft":en({clientX:e,clientY:t});break;case"topright":_t({clientX:e,clientY:t});break;case"bottomleft":qt({clientX:e,clientY:t});break;case"bottomright":Vt({clientX:e,clientY:t});break;case"topmiddle":ge(t-L.top);break;case"bottommiddle":pe(L.top+m-t);break;case"leftmiddle":Se(e-L.left);break;case"rightmiddle":he(L.left+p-e);break;default:break}}function ge(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:X;e<0?e=0:e>=m&&t===0?e=m:e+t>=m&&(e=m-t),U(e)}function he(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:F;e<=0?e=0:e>=p&&t===0?e=p:e+t>=p&&(e=p-t),oe(e)}function pe(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Y;e<=0?e=0:e>=m&&t===0?e=m:e+t>=m&&(e=m-t),q(e)}function Se(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:K,u=e;u<0?u=0:e>=p&&t===0?u=p:e+t>=p&&(u=p-t),V(u)}function Vt(e){var t=e.clientX,u=e.clientY;he(L.left+p-t),pe(L.top+m-u)}function qt(e){var t=e.clientX,u=e.clientY;pe(L.top+m-u),Se(t-L.left)}function _t(e){var t=e.clientX,u=e.clientY;ge(u-L.top),he(L.left+p-t)}function en(e){var t=e.clientX,u=e.clientY;ge(u-L.top),Se(t-L.left)}function nt(){if(W===0||C===0){Bt.ZP.warning("\u8BF7\u88C1\u526A\u6B63\u786E\u5C3A\u5BF8\u7684\u56FE\u7247\uFF01\uFF01\uFF01");return}var e=document.createElement("canvas"),t=e.getContext("2d"),u=m/$,v=p/$;e.height=u,e.width=v,t.drawImage(le.current,0,0,v,u);var y=t.getImageData(F/$,Y/$,W,C),T=nn(y,W,C);console.log("\u56FE\u7247\u88C1\u526A\u540E\u7684\u5BBD\u5EA6",W),console.log("\u56FE\u7247\u88C1\u526A\u540E\u7684\u9AD8\u5EA6",C),at(T).then(function(j){o==null||o({url:T,width:W,height:C,file:j}),Ae(!1),B==null||B("clip")})}function at(e){var t=e.substring(e.lastIndexOf("/")+1),u=A||t;return new Promise(function(v,y){var T=null,j=new XMLHttpRequest;j.open("GET",e),j.setRequestHeader("Accept",c),j.responseType="blob",j.onload=function(){T=j.response;var H=new File([T],u,{type:c});v(H)},j.onerror=function(H){y(H)},j.send()})}function tn(e,t){return Ye.apply(this,arguments)}function Ye(){return Ye=ht()(ze()().mark(function e(t,u){var v;return ze()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.next=2,at(t);case 2:v=T.sent,rt(v,u);case 4:case"end":return T.stop()}},e)})),Ye.apply(this,arguments)}function rt(e,t){var u=new FileReader;u.addEventListener("load",function(){t==null||t(u.result)},!1),u.readAsDataURL(e)}function nn(e,t,u){var v=document.createElement("canvas"),y=v.getContext("2d");return v.width=t,v.height=u,y.putImageData(e,0,0),v.toDataURL(c,x)}function an(e){Ut(e.target.value),e.target.value===2&&(Qe(W),qe(C))}function rn(e){Qe(e)}function on(e){qe(e)}function sn(){var e=Ke*$,t=Ve*$;U(0),V(0),oe(p-e),q(m-t)}return(0,s.jsx)(s.Fragment,{children:Gt&&(0,s.jsx)("div",{className:"custom-mask",children:(0,s.jsxs)("div",{className:"picture-clip",children:[(0,s.jsx)(bt.Z,{onClick:function(){Ae(!1),B==null||B("close")},className:"picture-clip-close"}),(0,s.jsx)("div",{style:{height:"".concat($e,"px"),width:"".concat(We,"px")},className:"picture-clip-img-container",children:(0,s.jsxs)("div",{style:{height:"".concat(m,"px"),width:"".concat(p,"px")},className:"picture-clip-img-warp",children:[(0,s.jsx)("img",{style:{height:"".concat(m,"px"),width:"".concat(p,"px")},ref:le,className:"picture-clip-img-bg",src:Ie}),(0,s.jsx)("img",{style:{clipPath:"polygon(".concat(F,"px ").concat(Y,"px,").concat(p-K,"px ").concat(Y,"px,").concat(p-K,"px ").concat(m-X,"px,").concat(F,"px ").concat(m-X,"px)"),height:"".concat(m,"px"),width:"".concat(p,"px")},className:"picture-clip-img-show",src:Ie}),(0,s.jsxs)("div",{style:{top:"".concat(Y,"px"),left:"".concat(F,"px"),bottom:"".concat(X,"px"),right:"".concat(K,"px"),cursor:"move"},ref:ne,onMouseDown:Qt,className:"picture-cut-box",children:[(0,s.jsx)("div",{onMouseDown:function(t){J(t,"topleft")},className:"box-corner topleft",style:{cursor:"nwse-resize"}}),(0,s.jsx)("div",{onMouseDown:function(t){J(t,"topright")},className:"box-corner topright",style:{cursor:"nesw-resize"}}),(0,s.jsx)("div",{onMouseDown:function(t){J(t,"bottomright")},className:"box-corner bottomright",style:{cursor:"nwse-resize"}}),(0,s.jsx)("div",{onMouseDown:function(t){J(t,"bottomleft")},className:"box-corner bottomleft",style:{cursor:"nesw-resize"}}),(0,s.jsx)("div",{onMouseDown:function(t){J(t,"topmiddle")},className:"box-middle topmiddle",style:{cursor:"row-resize"}}),(0,s.jsx)("div",{onMouseDown:function(t){J(t,"bottommiddle")},className:"box-middle bottommiddle",style:{cursor:"row-resize"}}),(0,s.jsx)("div",{onMouseDown:function(t){J(t,"leftmiddle")},className:"box-middle leftmiddle",style:{cursor:"col-resize"}}),(0,s.jsx)("div",{onMouseDown:function(t){J(t,"rightmiddle")},className:"box-middle rightmiddle",style:{cursor:"col-resize"}})]}),d===ee.custom&&(0,s.jsx)("div",{className:"img-clip-info",children:(0,s.jsxs)(Mt.Z,{children:[(0,s.jsxs)("div",{className:"pixel-info",children:["\u5BBD\uFF08\u50CF\u7D20\uFF09\uFF1A",W," \u9AD8\uFF08\u50CF\u7D20\uFF09\uFF1A",C]}),(0,s.jsxs)(je.Z,{direction:"vertical",children:[(0,s.jsx)(De.ZP.Group,{onChange:an,value:ie,children:(0,s.jsxs)(je.Z,{direction:"vertical",children:[(0,s.jsx)(De.ZP,{value:k.manual,children:"\u624B\u52A8\u5C3A\u5BF8"}),(0,s.jsx)(De.ZP,{value:k.custom,children:"\u8F93\u5165\u5C3A\u5BF8"})]})}),(0,s.jsxs)(je.Z,{children:[(0,s.jsx)(Ue.Z,{min:1,precision:0,disabled:ie!==k.custom,max:p/$,value:Ke,onChange:rn}),"*",(0,s.jsx)(Ue.Z,{value:Ve,min:1,precision:0,disabled:ie!==k.custom,max:m/$,onChange:on}),(0,s.jsx)(Fe.ZP,{disabled:ie!==k.custom,onClick:sn,block:!1,shape:"round",type:"primary",children:"\u786E\u8BA4"})]}),(0,s.jsx)(Fe.ZP,{shape:"round",onClick:nt,type:"primary",children:"\u786E\u8BA4\u88C1\u526A"})]})]})})]})}),d!==ee.custom&&(0,s.jsx)(Fe.ZP,{onClick:nt,className:"picture-clip-btn",block:!1,type:"primary",children:"\u786E\u8BA4\u88C1\u526A"})]})})})},At=Et,It=At,Pt=g(85589),ue=g.n(Pt),bn=g(61321),ce,Nt=["undo","redo","separator","font-size","line-height","letter-spacing","separator","text-color","bold","italic","underline","strike-through","separator","superscript","subscript","remove-styles","emoji","separator","text-indent","text-align","separator","headings","list-ul","list-ol","blockquote","code","separator","link","separator","hr","separator","media","separator","clear"],Ht=i.forwardRef(function(n,r){var a=n.value,o=n.onChange,f=n.config,c=n.controls,h=c===void 0?Nt:c,x=n.width,l=n.height,E=(0,i.useState)(ue().createEditorState(a)),d=S()(E,2),A=d[0],M=d[1],I=(0,i.useState)({excludeControls:["media","code"]}),B=S()(I,2),R=B[0],N=B[1];(0,i.useEffect)(function(){!ce&&a&&(ce=ue().createEditorState(a),M(ce))},[a]),(0,i.useEffect)(function(){return function(){ce=null}},[]),(0,i.useLayoutEffect)(function(){f&&N(G()(G()({},R),f))},[f]),(0,i.useImperativeHandle)(r,function(){return{editorState:A,setState:function(z){M(ue().createEditorState(z))}}});function m(D){console.log("handleEditorChange",D.toHTML()),M(D),Z(D.toHTML()||"")}var Z=Xe(function(D){o==null||o(D)},500);return(0,s.jsx)("div",{style:{border:"1px solid #ccc",height:l?"".concat(l,"px"):"unset",width:x?"".concat(x,"px"):"unset"},className:"rich-text",children:(0,s.jsx)(ue(),G()({onChange:m,controls:h,value:A},R))})}),Yt=Ht,Zt=Yt}}]);
